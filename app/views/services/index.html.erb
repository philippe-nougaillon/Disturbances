<div class="w-full mb-8">

  <div class="flex justify-between items-center">
    <h1 class="font-bold text-4xl mt-1 mb-4">
      <i class="fa-solid fa-train"></i>
      Services
    </h1>
  </div>

    <%= form_tag services_path, method: :get do %>
      <div class="flex flex-wrap xl:flex-nowrap">

      <div class="w-full mr-4">
        <%= label_tag :du, "Du", class: "label" %>
        <%= text_field_tag :du,
                            params[:du],
                            type: "date",
                            class: 'input input-sm input-bordered w-full', 
                            onchange: 'this.form.submit()' %>
      </div>

      <div class="w-full mr-4">
        <%= label_tag :au, "Au", class: "label" %>
        <%= text_field_tag :au,
                            params[:au],
                            type: "date",
                            class: 'input input-sm input-bordered w-full', 
                            onchange: 'this.form.submit()' %>
      </div>

      <div class="w-full mr-4">
        <%= label_tag :mode, "Mode", class: "label" %>
        <%= select_tag :mode,
                        options_for_select(["Train", "Car", "TramTrain"], params[:mode]), 
                        include_blank: true,
                        class: 'select select-sm select-bordered w-full', 
                        onchange: 'this.form.submit()' %>
      </div>

      <div class="w-full mr-4">
        <%= label_tag :num_service, "Numéro de service", class: "label" %>
        <%= text_field_tag :num_service,
                        params[:num_service],
                        include_blank: true,
                        class: 'input input-sm select-bordered w-full',
                        onchange: 'this.form.submit()' %>
      </div>

      <div class="w-full mr-4">
        <%= label_tag :gare, "Gare", class: "label" %>
        <%= select_tag :gare,
                        options_for_select(@gares, params[:gare]), 
                        include_blank: true,
                        class: 'select select-sm select-bordered w-full', 
                        onchange: 'this.form.submit()' %>
      </div>



    </div>
  <% end %>

  <div id="services" class="my-4 overflow-x-auto">
    <table class="table table-zebra w-full">
      <thead>
        <tr>
          <th>Date</th>
          <th>Mode</th>
          <th>N°Service</th>
          <th>Horaire</th>
          <th>Origine</th>
          <th>Destination</th>
        </tr>
      </thead>
      <tbody>
        <%= render @services %>
      </tbody>
      <tfoot>
        <th colspan=6></th>
      </tfoot>
    </table>
  </div>

  <%= page_entries_info @services, entry_name: 'service' %>
  <%= paginate @services %>

</div>
